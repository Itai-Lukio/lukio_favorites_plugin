jQuery(document).ready(function(t){class o{constructor(){this.favorites_working=!1}clicked_favorite_button(o){if(this.favorites_working)return;this.favorites_working=!0;let i=t(`.lukio_favorites_button[data-post-id="${o.data("post-id")}"]`);i.addClass("working"),this.send_ajax(i,o.data("post-id"),o.data("post-type"))}send_ajax(o,i,a){let e=this;t.ajax({method:"POST",url:lukio_favorites_ajax.ajax_url,data:{action:"lukio_favorites_button_click",post_id:i,post_type:a},success:function(t){t=JSON.parse(t),o.removeClass("working").attr("data-lukio-fav",t.favorite)},complete:function(){e.favorites_working=!1,t("body").trigger("lukio_favorites_plugin_refresh",[o])}})}}const i=new o;t(document).on("click",".lukio_favorites_button",function(o){o.stopPropagation(),o.preventDefault(),i.clicked_favorite_button(t(this))})});