jQuery(document).ready(function(t){class a{constructor(){this.favorites_working=!1}clicked_favorite_button(a){if(this.favorites_working)return;this.favorites_working=!0;let o=t(`.lukio_favorites_button[data-post-id="${a.data("post-id")}"]`);o.addClass("working"),this.send_ajax(o,a.data("post-id"),a.data("post-type"))}send_ajax(a,o,i){let e=this;t.ajax({method:"POST",url:lukio_favorites_ajax.ajax_url,data:{action:"lukio_favorites_button_click",post_id:o,post_type:i},success:function(t){t=JSON.parse(t),a.removeClass("working").attr("data-lukio-fav",t.favorite).attr("aria-label",t.aria_label)},complete:function(){e.favorites_working=!1,t("body").trigger("lukio_favorites_plugin_refresh",[a])}})}}const o=new a;t(document).on("click",".lukio_favorites_button",function(a){a.stopPropagation(),a.preventDefault(),o.clicked_favorite_button(t(this))})});