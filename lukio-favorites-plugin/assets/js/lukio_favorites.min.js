(function(t){t(document).ready(function(){class o{constructor(){this.favorites_working={status:!1}}clicked_favorite_button(o){function i(o,i,a){t.ajax({method:"POST",url:lukio_favorites_ajax.ajax_url,data:{action:"lukio_favorites_button_click",post_id:i},success:function(t){t=JSON.parse(t),o.removeClass("working").attr("data-lukio-fav",t.favorite)},complete:function(){a.status=!1,t("body").trigger("lukio_favorites_plugin_refresh",[o])}})}if(this.favorites_working.status)return;this.favorites_working.status=!0;let a=t(`.lukio_favorites_button[data-post-id="${o.data("post-id")}"]`);a.addClass("working"),i(a,o.data("post-id"),this.favorites_working)}}let i=new o;t(document).on("click",".lukio_favorites_button",function(o){o.stopPropagation(),o.preventDefault(),i.clicked_favorite_button(t(this))})})})(jQuery);