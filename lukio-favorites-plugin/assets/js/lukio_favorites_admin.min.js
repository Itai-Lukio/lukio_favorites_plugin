(function(t){t(document).ready(function(){function o(o,e){var i={action:"lukio_favorites_get_preview_img",id:o};t.get(ajaxurl,i,function(t){!0===t.success&&e.replaceWith(t.data.image)})}t("#custom_button").on("change",function(){t(".lukio_custom_button_wrapper, .lukio_custom_images_wrapper").toggleClass("hide_option")}),t(".set_custom_images").on("click",function(e){e.preventDefault();let i=t(this),a=i.siblings(".process_custom_images"),n=i.siblings(".preview_image");var l;l&&l.open(),l=wp.media({title:"",multiple:!1,library:{type:"image"}}),l.on("close",function(){var t=l.state().get("selection"),e=new Array,i=0;t.each(function(t){e[i]=t.id,i++});var u=e.join(",");if(0===u.length)return!0;a.val(u),"0"!=u&&o(u,n)}),l.on("open",function(){var t=l.state().get("selection"),o=a.val().split(",");o.forEach(function(o){var e=wp.media.attachment(o);e.fetch(),t.add(e?[e]:[])})}),l.open()}),t(".lukio_color_picker").wpColorPicker({defaultColor:t("#lukio_default_color").val(),change:function(o,e){t('.lukio_favorites_button[data-lukio-fav="0"] .lukio_pre_fav,.lukio_favorites_button[data-lukio-fav="1"] .lukio_fav').css("fill",e.color.toString())}})})})(jQuery);